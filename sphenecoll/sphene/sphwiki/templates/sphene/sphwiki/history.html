{% extends "sphene/sphwiki/base.html" %}

{% load i18n %}
{% load sph_extras %}
{% load sph_pagination %}

{% block content %}

  {% include "sphene/sphwiki/_snip_header.html" %}
  <a href="{{ snip.get_absolute_url }}">{% trans "Back to Snip" %}</a><br/><br/>

  <table class="sph_object_list">
    <tr>
      <th>{% trans "Date" %}</th>
      <th>{% trans "Editor" %}</th>
      <th width="80%">{% trans "Change Message" %}</th>
      {% if snip.has_edit_permission %}
        <th>{% trans "Edit" %}</th>
      {% endif %}
    </tr>

    {% for change in object_list %}
       <tr>
         <td class="history_changedate"><a href="{{ change.get_absolute_url }}" title="Changes to Previous Version">{{ change.edited|sph_date }}</a></td>
         <td class="history_editor">{% sph_html_user change.editor %}</td>
         <td>{{ change.message }}</td>
	 {% if snip.has_edit_permission %}
	   <td class="history_edit"><a href="{{ change.get_absolute_editurl }}">{% trans "Edit this version" %}</a></td>
	 {% endif %}
       </tr>
    {% endfor %}
  </table>

  {% if is_paginated %}
    {% blocktrans with hits as changecount %}{{ changecount }} Changes.{% endblocktrans %} {% sph_pagination pages page %}
  {% else %}
    {% blocktrans with object_list.count as changecount %}{{ changecount }} Changes.{% endblocktrans %}
  {% endif %}


{% endblock %}
